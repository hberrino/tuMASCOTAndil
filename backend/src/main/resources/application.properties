# Render asigna el puerto automáticamente mediante la variable PORT
# Para desarrollo local, usa 8080 por defecto
server.port=${PORT:8080}

# Configuración de base de datos PostgreSQL (Supabase)
# Para Render: Usa Session Pooler (IPv4 compatible)
#   - Host: aws-0-us-west-2.pooler.supabase.com
#   - Puerto: 5432
#   - Usuario: postgres.hqblwtmxrlnqbigjtmta
# Para desarrollo local: Puedes usar conexión directa o pooler
# En producción (Render), estas variables DEBEN estar configuradas en el dashboard
# Si no están definidas, la aplicación fallará al iniciar (comportamiento esperado)
spring.datasource.url=${DB_URL:}
spring.datasource.username=${DB_USERNAME:}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.datasource.hikari.maximum-pool-size=2
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=30000

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=${DB_DDL_AUTO:update}
spring.jpa.show-sql=${DB_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${DB_FORMAT_SQL:false}

spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

logging.level.com.buscatumascotandil.find=${LOG_LEVEL:INFO}

app.admin.username=${ADMIN_USERNAME:admin}
app.admin.password=${ADMIN_PASSWORD:}
app.admin.create-on-startup=${ADMIN_CREATE_ON_STARTUP:true}

cors.allowed.origins=${CORS_ALLOWED_ORIGINS:}

# ============================================
# CLOUDINARY (Gestión de imágenes)
# ============================================
cloudinary.enabled=${CLOUDINARY_ENABLED:true}
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME:}
cloudinary.api-key=${CLOUDINARY_API_KEY:}
cloudinary.api-secret=${CLOUDINARY_API_SECRET:}
