# ============================================
# SERVER CONFIGURATION
# ============================================
# Render asigna el puerto automáticamente mediante la variable PORT
# Para desarrollo local, usa 8080 por defecto
server.port=${PORT:8080}

# ============================================
# SPRING PROFILES
# ============================================
# Perfil activo (configurado en Render como SPRING_PROFILES_ACTIVE)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ============================================
# DATABASE CONFIGURATION (PostgreSQL - Supabase)
# ============================================
# Variables de entorno configuradas en Render:
# - DB_URL: URL completa de conexión JDBC
# - DB_USERNAME: Usuario de la base de datos
# - DB_PASSWORD: Contraseña de la base de datos
# - DB_DDL_AUTO: Modo de DDL (update, validate, etc.)
# - DB_SHOW_SQL: Mostrar SQL en logs (true/false)
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configuración del pool de conexiones HikariCP
spring.datasource.hikari.maximum-pool-size=2
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=30000

# Configuración JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=${DB_DDL_AUTO:update}
spring.jpa.show-sql=${DB_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=false

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# ============================================
# LOGGING CONFIGURATION
# ============================================
logging.level.com.buscatumascotandil.find=${LOG_LEVEL:INFO}

# ============================================
# ADMIN CONFIGURATION
# ============================================
# Variables de entorno configuradas en Render:
# - ADMIN_USERNAME: Nombre de usuario del administrador
# - ADMIN_PASSWORD: Contraseña del administrador
# - ADMIN_CREATE_ON_STARTUP: Crear admin al iniciar (true/false)
app.admin.username=${ADMIN_USERNAME:admin}
app.admin.password=${ADMIN_PASSWORD}
app.admin.create-on-startup=${ADMIN_CREATE_ON_STARTUP:true}

# ============================================
# CORS CONFIGURATION
# ============================================
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:}

# ============================================
# CLOUDINARY CONFIGURATION (Gestión de imágenes)
# ============================================
# Variables de entorno configuradas en Render:
# - CLOUDINARY_ENABLED: Habilitar Cloudinary (true/false)
# - CLOUDINARY_CLOUD_NAME: Nombre de la nube en Cloudinary
# - CLOUDINARY_API_KEY: API Key de Cloudinary
# - CLOUDINARY_API_SECRET: API Secret de Cloudinary
cloudinary.enabled=${CLOUDINARY_ENABLED:true}
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}
